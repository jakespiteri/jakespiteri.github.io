<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Portfolio Report 2: Reproducibility | Jake Spiteri</title><meta name=keywords content><meta name=description content="When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research."><meta name=author content="Jake Spiteri"><link rel=canonical href=https://jakespiteri.co.uk/portfolio/computing-1/report-2/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jakespiteri.co.uk/favi.png><link rel=icon type=image/png sizes=16x16 href=https://jakespiteri.co.uk/favi.png><link rel=icon type=image/png sizes=32x32 href=https://jakespiteri.co.uk/favi.png><link rel=apple-touch-icon href=https://jakespiteri.co.uk/favi.png><link rel=mask-icon href=https://jakespiteri.co.uk/favi.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Portfolio Report 2: Reproducibility"><meta property="og:description" content="When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research."><meta property="og:type" content="article"><meta property="og:url" content="https://jakespiteri.co.uk/portfolio/computing-1/report-2/"><meta property="og:image" content="https://jakespiteri.co.uk/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="portfolio"><meta property="og:site_name" content="Jake Spiteri"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jakespiteri.co.uk/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Portfolio Report 2: Reproducibility"><meta name=twitter:description content="When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Portfolio","item":"https://jakespiteri.co.uk/portfolio/"},{"@type":"ListItem","position":2,"name":"Statistical Computing 1","item":"https://jakespiteri.co.uk/portfolio/computing-1/"},{"@type":"ListItem","position":3,"name":"Portfolio Report 2: Reproducibility","item":"https://jakespiteri.co.uk/portfolio/computing-1/report-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Portfolio Report 2: Reproducibility","name":"Portfolio Report 2: Reproducibility","description":"When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research.","keywords":[],"articleBody":" When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research. Whilst it is hard to consistently record all changes in our code, it saves time in the long run.\nWhen undertaking research, there are three main points to consider: In the following we briefly discuss reproducible research, and then follow with an example demonstrating best practices.\nReproducible research Reproducible research refers to the idea that given an academic paper and the author’s raw data, anyone interested can carry out the exact same computations and produce the same result which was published.\nA large portion of academic research is not reproducible. The scientific method revolves around making assumptions, producing hypotheses, and rigorously detailing how a conclusion is produced. Very little computationally-intensive scientific research adequately explains the modelling choices that were made, and so their claims cannot be verified. Some researchers focus on developing different models and architectures which excel at certain tasks, and we are often presented with the model’s prediction/classification performance on an array of datasets. However in producing these results various choices have been made which may not have been adequately explained — we may question how the data was split into train/test sets, how the model’s hyperparameters were chosen, how we can know that the model hasn’t simply overfit the data, etc. Given such complicated experiments, the original authors themselves may not be able to replicate their findings exactly. In some fields such as deep learning, verifying the performance of state-of-the-art (SOTA) algorithms/architectures by training a model from scratch becomes impossible due to the large amount of resources required to re-run experiments. For example, Google has open-sourced the code for its SOTA language model BERT, but the pre-trained model is rumored to have cost $30,000 to train. It would not be possible to re-train BERT without extensive resources. We can of course verify the performance of BERT on an unseen dataset, but we cannot reproduce BERT.\nHistorically, producing reproducible research has been difficult as it would be very hard to perfectly replicate the original computing environment. A lot of research is also quite interactive. When analyzing data we frequently produce visualizations and test our hypotheses interactively, and we often do not store all of the code we have used. The wealth of tools available to us today make these reasons redundant. Analyses are often carried out with high-level programming languages such as R and Python, which produce the same output when run on different hardware with different operation systems. Package management systems record the computational environment to ensure it can be replicated, and version control systems such as git rigorously keep track of all changes in code. Code can easily be pushed to github and made available to the public.\nThere are some valid reasons why researchers may not publish their code. Due to the nature of some fields such as healthcare and defense, raw data simply cannot be shared. It is also possible that personal data is being used and for reproducibility data is sometimes released in an anonymized form. Data anonymization is very difficult to do correctly — the Netflix Prize is an infamous example in which supposedly anonymous Netflix data was de-anonymized. In 2019 OpenAI published a blog post and paper claiming the SOTA performance of their language model GPT-2, but they chose not to publish the full model, the training dataset, and the training code, as they believed it to be too dangerous. Instead they released a much smaller version of GPT-2 and proposed a ‘staged’ release system in which they incrementally released larger versions of GPT-2.\nWhen the Royal Society was founded in 1660, its motto was chosen to be Nullius in verba — Latin for “on the word of no one” or “take nobody’s word for it”. Reproducibility has long been something to strive for. In recent years we have seen the replication crisis appearing in different fields. Psychology has begun a large-scale effort to replicate significant and historical results. Brian Nosek of the Center for Open Science led sixty labs in thirty-six countries in recreating twenty-eight experiments (combined sample sizes were sixty-two times larger than the original experiment on average). Only fourteen of twenty-eight results were successfully replicated.\nLiterate programming Donald Knuth introduced the concept of literate programming in 1984. The idea is that a computer program or analysis should consist of an explanation of its logic in a natural language such as English, accompanied by snippets of code which carry out the proposed logic. Knuth said that “Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.”.\nIn practice, we produce a document explaining what a program does in addition to code that can be executed. RMarkdown makes it easy to create documents that ensure code and documentation are consistent with one another, and allows us to emphasize the readability of the document. RMarkdown greatly improves upon simply commenting throughout an R script when producing high-level analyses. However, when working low-level functionality an R script with accompanying documentation is often preferred.\nExample Here we look at a simple example of literate programming.\nLet’s import some data. We will look at Bristol weather data which has been compiled from multiple sources. The source of this .txt file can be found here.\nlibrary(readr) bristoltemps \u003c- read_csv(\"../data/bristoltemps.txt\") ## Rows: 1991 Columns: 3 ## ── Column specification ──────────────────────────────────────────────────────── ## Delimiter: \",\" ## dbl (3): Year, Month, Temperature ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. head(bristoltemps) ## # A tibble: 6 × 3 ## Year Month Temperature ## ## 1 1853 1 5 ## 2 1853 2 1 ## 3 1853 3 3 ## 4 1853 4 7 ## 5 1853 5 11 ## 6 1853 6 13 We will use the tidyverse to quickly produce some plots. It may be interesting to view the temperature over a few years to view the periodicity.\n# add a date column in the format yyyy-mm-dd bristoltemps \u003c- bristoltemps %\u003e% mutate(\"Date\" = as.POSIXct(paste0(Year, \"-\", Month, \"-01\"))) # create a plot from 2016-2018 bristoltemps %\u003e% filter(Year \u003e= 2016) %\u003e% ggplot(aes(x = Date, y=Temperature)) + geom_line() + labs(title = \"Average Temperature in Bristol\", subtitle = \"From 2016 Onwards\") We may also be interested in the change in the annual temperature in Bristol. Let’s produce a plot of that.\n# compute average temperature per year and plot over time bristoltemps %\u003e% group_by(Year) %\u003e% summarise(\"Average Temperature\" = mean(Temperature)) %\u003e% ggplot(aes(x = Year, y = `Average Temperature`)) + geom_point() + labs(title = \"Yearly Average Temperature in Bristol\") We seem to be missing some data somewhere between 1850 and 1900. So we will only consider data from the year 1900 onwards. The erratic nature of the data makes it difficult to see a pattern so we will implement a 5 year moving average.\n# function that returns the moving average over n values ma \u003c- function(x, n) { return(stats::filter(x, rep(1/n, n), sides=2)) } # produce a plot with a 5 year average over the data bristoltemps %\u003e% filter(Year \u003e= 1900) %\u003e% group_by(Year) %\u003e% summarise(\"Average Temperature\" = mean(Temperature)) %\u003e% ggplot(aes(x = Year, y = ma(`Average Temperature`, 5))) + geom_line(col=\"red\") + geom_point(aes(x = Year, y = `Average Temperature`)) + labs(title = \"Yearly Average Temperature in Bristol\", subtitle = \"5 Year Moving Average in Red\", y = \"Average Temperature\") ## Don't know how to automatically pick scale for object of type ts. Defaulting to continuous. It may be interesting to see the change in temperature relative to an average of the last \\(30\\) years. We redefine our function ma to allow us to average over the past values, and produce a new plot of the differences between the temperature in year \\(x\\) and the average over the last \\(30\\) years.\nNote that below we actually compute a moving average over 5 yearly temperatures, and compare this to the average temperature of the last 30 years. This is done because the data is a combination of different datasets from various weather stations in Bristol. The measuring apparatus will change over time.\n# function that returns the average over n values ma \u003c- function(x, n, sides) { return(stats::filter(x, rep(1/n, n), sides=sides)) } # produce plot bristoltemps %\u003e% filter(Year \u003e= 1900) %\u003e% group_by(Year) %\u003e% summarise(\"Average Temperature\" = mean(Temperature)) %\u003e% mutate(avg_last_thirty_years = ma(`Average Temperature`, 30, sides=1)) %\u003e% mutate(diff = ma(`Average Temperature`, 5, sides=2) - avg_last_thirty_years, sign = sign(diff)) %\u003e% na.omit() %\u003e% ggplot(aes(x = Year, y = diff)) + geom_segment(aes(xend = Year, col = as.factor(sign)), yend= 0) + scale_colour_manual(values = c(\"skyblue\", \"red\")) + labs(title = \"Average Temperature in Bristol\", y = \"Anomaly From Last Thirty Years\") ","wordCount":"1527","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Jake Spiteri"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jakespiteri.co.uk/portfolio/computing-1/report-2/"},"publisher":{"@type":"Organization","name":"Jake Spiteri","logo":{"@type":"ImageObject","url":"https://jakespiteri.co.uk/favi.png"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://jakespiteri.co.uk/ accesskey=h title="Home (Alt + H)"><img src=https://jakespiteri.co.uk/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://jakespiteri.co.uk/about/ title=/about><span>/about</span></a></li><li><a href=https://jakespiteri.co.uk/portfolio/ title=/portfolio><span>/portfolio</span></a></li><li><a href=https://jakespiteri.co.uk/blog/ title=/blog><span>/blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jakespiteri.co.uk/>Home</a>&nbsp;»&nbsp;<a href=https://jakespiteri.co.uk/portfolio/>Portfolio</a>&nbsp;»&nbsp;<a href=https://jakespiteri.co.uk/portfolio/computing-1/>Statistical Computing 1</a></div><h1 class=post-title>Portfolio Report 2: Reproducibility</h1><div class=post-meta>Jake Spiteri&nbsp;|&nbsp;<a href=https://github.com/jakespiteri/jakespiteri.github.io/tree/master/portfolio/computing-1/Report-2/index.html rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>When producing research which involves a lot of code, it is important that your research/analyses can be reproduced. When analyzing data it is common to write some code, change it a little and test some version of your code in the console. Then when your final document is produced, the R script or Markdown document may not produce the exact same results as your published analysis. This is one of the main challenges of producing reproducible research. Whilst it is hard to consistently record all changes in our code, it saves time in the long run.</p>When undertaking research, there are three main points to consider:<p>In the following we briefly discuss reproducible research, and then follow with an example demonstrating best practices.</p><div id=reproducible-research class="section level1"><h1>Reproducible research</h1><p>Reproducible research refers to the idea that given an academic paper and the author’s raw data, anyone interested can carry out the <em>exact</em> same computations and produce the same result which was published.</p><p>A large portion of academic research is not reproducible. The scientific method revolves around making assumptions, producing hypotheses, and rigorously detailing how a conclusion is produced. Very little computationally-intensive scientific research adequately explains the modelling choices that were made, and so their claims cannot be verified. Some researchers focus on developing different models and architectures which excel at certain tasks, and we are often presented with the model’s prediction/classification performance on an array of datasets. However in producing these results various choices have been made which may not have been adequately explained — we may question how the data was split into train/test sets, how the model’s hyperparameters were chosen, how we can know that the model hasn’t simply overfit the data, etc. Given such complicated experiments, the original authors themselves may not be able to replicate their findings exactly. In some fields such as deep learning, verifying the performance of state-of-the-art (SOTA) algorithms/architectures by training a model from scratch becomes impossible due to the large amount of resources required to re-run experiments. For example, Google has open-sourced the code for its SOTA language model <a href=https://arxiv.org/pdf/1810.04805.pdf>BERT</a>, but the pre-trained model is rumored to have cost $30,000 to train. It would not be possible to re-train BERT without extensive resources. We can of course verify the performance of BERT on an unseen dataset, but we cannot <em>reproduce</em> BERT.</p><p>Historically, producing reproducible research has been difficult as it would be very hard to perfectly replicate the original computing environment. A lot of research is also quite interactive. When analyzing data we frequently produce visualizations and test our hypotheses interactively, and we often do not store all of the code we have used. The wealth of tools available to us today make these reasons redundant. Analyses are often carried out with high-level programming languages such as R and Python, which produce the same output when run on different hardware with different operation systems. Package management systems record the computational environment to ensure it can be replicated, and version control systems such as git rigorously keep track of all changes in code. Code can easily be pushed to github and made available to the public.</p><p>There are some valid reasons why researchers may not publish their code. Due to the nature of some fields such as healthcare and defense, raw data simply cannot be shared. It is also possible that personal data is being used and for reproducibility data is sometimes released in an anonymized form. Data anonymization is very difficult to do correctly — the <a href=https://en.wikipedia.org/wiki/Netflix_Prize>Netflix Prize</a> is an infamous example in which supposedly <em>anonymous</em> Netflix data was de-anonymized. In 2019 OpenAI published a <a href=https://openai.com/blog/better-language-models/>blog post</a> and <a href=https://cdn.openai.com/better-language-models/language_models_are_unsupervised_multitask_learners.pdf>paper</a> claiming the SOTA performance of their language model GPT-2, but they chose not to publish the full model, the training dataset, and the training code, as they believed it to be too dangerous. Instead they released a much smaller version of GPT-2 and proposed a ‘staged’ release system in which they incrementally released larger versions of GPT-2.</p><p>When the Royal Society was founded in 1660, its motto was chosen to be <em>Nullius in verba</em> — Latin for “on the word of no one” or “take nobody’s word for it”. Reproducibility has long been something to strive for. In recent years we have seen the replication crisis appearing in different fields. Psychology has begun a large-scale effort to replicate significant and historical results. Brian Nosek of the Center for Open Science led sixty labs in thirty-six countries in recreating twenty-eight experiments (combined sample sizes were sixty-two times larger than the original experiment on average). Only fourteen of twenty-eight results were successfully replicated.</p></div><div id=literate-programming class="section level1"><h1>Literate programming</h1><p>Donald Knuth introduced the concept of literate programming in 1984. The idea is that a computer program or analysis should consist of an explanation of its logic in a natural language such as English, accompanied by snippets of code which carry out the proposed logic. Knuth said that “Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.”.</p><p>In practice, we produce a document explaining what a program does in addition to code that can be executed. RMarkdown makes it easy to create documents that ensure code and documentation are consistent with one another, and allows us to emphasize the readability of the document. RMarkdown greatly improves upon simply commenting throughout an R script when producing high-level analyses. However, when working low-level functionality an R script with accompanying documentation is often preferred.</p></div><div id=example class="section level1"><h1>Example</h1><p>Here we look at a simple example of literate programming.</p><p>Let’s import some data. We will look at Bristol weather data which has been compiled from multiple sources. The source of this .txt file can be found <a href=http://www.bristolweather.org.uk/data.html>here</a>.</p><pre class=r><code>library(readr)
bristoltemps &lt;- read_csv(&quot;../data/bristoltemps.txt&quot;)</code></pre><pre><code>## Rows: 1991 Columns: 3
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## dbl (3): Year, Month, Temperature
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre><pre class=r><code>head(bristoltemps)</code></pre><pre><code>## # A tibble: 6 × 3
##    Year Month Temperature
##   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
## 1  1853     1           5
## 2  1853     2           1
## 3  1853     3           3
## 4  1853     4           7
## 5  1853     5          11
## 6  1853     6          13</code></pre><p>We will use the tidyverse to quickly produce some plots. It may be interesting to view the temperature over a few years to view the periodicity.</p><pre class=r><code># add a date column in the format yyyy-mm-dd
bristoltemps &lt;- bristoltemps %&gt;% 
  mutate(&quot;Date&quot; = as.POSIXct(paste0(Year, &quot;-&quot;, Month, &quot;-01&quot;)))

# create a plot from 2016-2018
bristoltemps %&gt;%
  filter(Year &gt;= 2016) %&gt;%
  ggplot(aes(x = Date, y=Temperature)) +
  geom_line() +
  labs(title = &quot;Average Temperature in Bristol&quot;, 
       subtitle = &quot;From 2016 Onwards&quot;)</code></pre><p><img src=https://jakespiteri.co.uk/portfolio/computing-1/report-2/index_files/figure-html/unnamed-chunk-3-1.png width=480 style=display:block;margin:auto></p><p>We may also be interested in the change in the annual temperature in Bristol. Let’s produce a plot of that.</p><pre class=r><code># compute average temperature per year and plot over time
bristoltemps %&gt;%
  group_by(Year) %&gt;%
  summarise(&quot;Average Temperature&quot; = mean(Temperature)) %&gt;%
  ggplot(aes(x = Year, y = `Average Temperature`)) +
  geom_point() +
  labs(title = &quot;Yearly Average Temperature in Bristol&quot;)</code></pre><p><img src=https://jakespiteri.co.uk/portfolio/computing-1/report-2/index_files/figure-html/unnamed-chunk-4-1.png width=480 style=display:block;margin:auto></p><p>We seem to be missing some data somewhere between 1850 and 1900. So we will only consider data from the year 1900 onwards. The erratic nature of the data makes it difficult to see a pattern so we will implement a 5 year moving average.</p><pre class=r><code># function that returns the moving average over n values
ma &lt;- function(x, n) {
  return(stats::filter(x, rep(1/n, n), sides=2))
}

# produce a plot with a 5 year average over the data
bristoltemps %&gt;%
  filter(Year &gt;= 1900) %&gt;%
  group_by(Year) %&gt;%
  summarise(&quot;Average Temperature&quot; = mean(Temperature)) %&gt;%
  ggplot(aes(x = Year, y = ma(`Average Temperature`, 5))) +
  geom_line(col=&quot;red&quot;) +
  geom_point(aes(x = Year, y = `Average Temperature`)) +
  labs(title = &quot;Yearly Average Temperature in Bristol&quot;,
       subtitle = &quot;5 Year Moving Average in Red&quot;,
       y = &quot;Average Temperature&quot;)</code></pre><pre><code>## Don&#39;t know how to automatically pick scale for object of type ts. Defaulting to continuous.</code></pre><p><img src=https://jakespiteri.co.uk/portfolio/computing-1/report-2/index_files/figure-html/unnamed-chunk-5-1.png width=480 style=display:block;margin:auto></p><p>It may be interesting to see the change in temperature relative to an average of the last <span class="math inline">\(30\)</span> years. We redefine our function <code>ma</code> to allow us to average over the past values, and produce a new plot of the differences between the temperature in year <span class="math inline">\(x\)</span> and the average over the last <span class="math inline">\(30\)</span> years.</p><p>Note that below we actually compute a moving average over 5 yearly temperatures, and compare this to the average temperature of the last 30 years. This is done because the data is a combination of different datasets from various weather stations in Bristol. The measuring apparatus will change over time.</p><pre class=r><code># function that returns the average over n values
ma &lt;- function(x, n, sides) {
  return(stats::filter(x, rep(1/n, n), sides=sides))
}

# produce plot
bristoltemps %&gt;%
  filter(Year &gt;= 1900) %&gt;%
  group_by(Year) %&gt;%
  summarise(&quot;Average Temperature&quot; = mean(Temperature)) %&gt;%
  mutate(avg_last_thirty_years = ma(`Average Temperature`, 30, sides=1)) %&gt;%
  mutate(diff = ma(`Average Temperature`, 5, sides=2) - avg_last_thirty_years,
         sign = sign(diff)) %&gt;%
  na.omit() %&gt;% 
  ggplot(aes(x = Year, y = diff)) +
  geom_segment(aes(xend = Year, col = as.factor(sign)), yend= 0) +
  scale_colour_manual(values = c(&quot;skyblue&quot;, &quot;red&quot;)) +
  labs(title = &quot;Average Temperature in Bristol&quot;,
       y = &quot;Anomaly From Last Thirty Years&quot;)</code></pre><p><img src=https://jakespiteri.co.uk/portfolio/computing-1/report-2/index_files/figure-html/unnamed-chunk-6-1.png width=480 style=display:block;margin:auto></p></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://jakespiteri.co.uk/portfolio/computing-1/report-1/><span class=title>« Prev</span><br><span>Portfolio Report 1: An Introduction to R</span></a>
<a class=next href=https://jakespiteri.co.uk/portfolio/computing-1/report-3/><span class=title>Next »</span><br><span>Portfolio Report 3: Projects, version control, and packages</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://jakespiteri.co.uk/>Jake Spiteri</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>